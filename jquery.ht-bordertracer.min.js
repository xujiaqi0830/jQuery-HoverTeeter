!function(e){"use strict";e.fn.extend({addBorderTracer:function(r){var t={color:"rgb(194, 233, 144)",length:80,borderWidth:5,pace:15,lineCap:"round"};for(var n in r)t[n]=r[n];t.halfBorderWidth=t.borderWidth/2;var o,a,l,i;return e(this).on("mouseenter",function(r){var n=e(this).outerWidth(),h=e(this).outerHeight(),d=-t.length,c=-t.length,u=n+t.length,v=h+t.length,f='<canvas id="tracer" width="'+n+'" height="'+h+'" style="position:absolute">';e(this).append(f);var W=function(e){return d+=e,d-e},s=function(e){return c+=e,c-e},g=function(e){return u-=e,u+e},b=function(e){return v-=e,v+e},B=function(){var r=!1;o=setInterval(function(){var a=e("#tracer")[0];if(!a)return!1;var l=a.getContext("2d");l.clearRect(0,0,n,t.borderWidth),l.beginPath(),l.lineCap="round",l.moveTo(d,t.halfBorderWidth),l.lineTo(t.halfBorderWidth+t.length+W(t.pace),t.halfBorderWidth),l.lineWidth=t.borderWidth,l.strokeStyle=t.color,l.stroke(),l.closePath(),d+t.length>n&&(r||(p(),r=!r)),d>n&&(l.clearRect(0,0,n,t.borderWidth),clearInterval(o))},16)},p=function(){var r=!1;a=setInterval(function(){var o=e("#tracer")[0];if(!o)return!1;var l=o.getContext("2d");l.clearRect(n-t.borderWidth,0,t.borderWidth,h),l.beginPath(),l.lineCap="round",l.moveTo(n-t.halfBorderWidth,c),l.lineTo(n-t.halfBorderWidth,t.halfBorderWidth+s(t.pace)+t.length),l.lineWidth=t.borderWidth,l.strokeStyle=t.color,l.stroke(),l.closePath(),c+t.length>h&&(r||(I(),r=!r)),c>h&&(l.clearRect(n-t.borderWidth,0,t.borderWidth,h),clearInterval(a))},16)},I=function(){var r=!1;l=setInterval(function(){var o=e("#tracer")[0];if(!o)return!1;var a=o.getContext("2d");a.clearRect(0,h-t.borderWidth,n,h),a.beginPath(),a.lineCap="round",a.moveTo(u,h-t.halfBorderWidth),a.lineTo(t.halfBorderWidth-t.length+g(t.pace),h-t.halfBorderWidth),a.lineWidth=t.borderWidth,a.strokeStyle=t.color,a.stroke(),a.closePath(),u<t.length&&(r||(C(),r=!r)),u<0&&(a.clearRect(0,h-t.borderWidth,n,h),clearInterval(l))},16)},C=function(){var r=!1;i=setInterval(function(){var o=e("#tracer")[0];if(!o)return!1;var a=o.getContext("2d");a.clearRect(0,0,t.borderWidth,h),a.beginPath(),a.lineCap="round",a.moveTo(t.halfBorderWidth,v),a.lineTo(t.halfBorderWidth,t.halfBorderWidth+b(t.pace)-t.length),a.lineWidth=t.borderWidth,a.strokeStyle=t.color,a.stroke(),a.closePath(),v<t.length&&(r||(d=-t.length,c=-t.length,u=n+t.length,B(),r=!r)),v<0&&(a.clearRect(0,0,t.borderWidth,h),clearInterval(i),v=h+t.length)},16)};B()}),e(this).on("mouseleave",function(){clearInterval(o),clearInterval(a),clearInterval(l),clearInterval(i),e(this).children(":last").remove()}),e(this)}})}(jQuery);
